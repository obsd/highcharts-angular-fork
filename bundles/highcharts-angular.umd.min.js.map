{"version":3,"sources":["ng://highcharts-angular/lib/highcharts-chart.component.ts","ng://highcharts-angular/lib/highcharts-chart.module.ts"],"names":["HighchartsChartComponent","prototype","ngOnChanges","changes","update","currentValue","this","wrappedUpdateOrCreateChart","updateChange","emit","_this","runOutsideAngular","_zone","updateOrCreateChart","chart","options","oneToOne","constructorType","el","nativeElement","callbackFunction","chartInstance","ngOnDestroy","destroy","Component","args","selector","template","ElementRef","NgZone","Input","Output","EventEmitter","HighchartsChartModule","NgModule","declarations","exports"],"mappings":"kRAAA,IAAAA,GA0BEA,EAAAC,UAAAC,YAAA,SAAYC,GACV,IAAMC,EAASD,EAAO,QAAWA,EAAO,OAAQE,cAC5CF,EAAO,SAAYC,KACrBE,KAAKC,6BACDH,GACFE,KAAKE,aAAaC,MAAK,KAK7BT,EAAAC,UAAAM,2BAAA,WAAA,IAAAG,EAAAJ,KACMA,KAAKK,kBACPL,KAAKM,MAAMD,kBAAkB,WAC3BD,EAAKG,wBAGPP,KAAKO,uBAITb,EAAAC,UAAAY,oBAAA,WACMP,KAAKQ,OAASR,KAAKQ,MAAMV,OAC3BE,KAAKQ,MAAMV,OAAOE,KAAKS,SAAS,EAAMT,KAAKU,WAAY,IAEvDV,KAAKQ,MAASR,KAAsB,WAAEA,KAAKW,iBAAmB,SAC5DX,KAAKY,GAAGC,cACRb,KAAKS,QACLT,KAAKc,kBAAoB,MAI3Bd,KAAKe,cAAcZ,KAAKH,KAAKQ,SAIjCd,EAAAC,UAAAqB,YAAA,WACMhB,KAAKQ,QACPR,KAAKQ,MAAMS,UACXjB,KAAKQ,MAAQ,2BA7DlBU,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,mBACVC,SAAU,gDALQC,EAAAA,kBAAoDC,EAAAA,8CAQrEC,EAAAA,+BACAA,EAAAA,gCACAA,EAAAA,wBACAA,EAAAA,iCACAA,EAAAA,uBACAA,EAAAA,sBACAA,EAAAA,4BAEAC,EAAAA,8BACAA,EAAAA,aAID,SAAA/B,EACUkB,EACAN,GADAN,KAAAY,GAAAA,EACAZ,KAAAM,MAAAA,oBAPe,IAAIoB,EAAAA,cAAsB,sBACzB,IAAIA,EAAAA,aCjBhC,IAAAC,uBAGCC,EAAAA,SAAQT,KAAA,CAAC,CACRU,aAAc,CAAEnC,GAChBoC,QAAS,CAAEpC","sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnDestroy, Output, NgZone, OnChanges, SimpleChanges } from '@angular/core';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'highcharts-chart',\n  template: ''\n})\nexport class HighchartsChartComponent implements OnDestroy, OnChanges {\n  @Input() Highcharts: typeof Highcharts;\n  @Input() constructorType: string;\n  @Input() callbackFunction: Highcharts.ChartCallbackFunction;\n  @Input() oneToOne: boolean; // #20\n  @Input() runOutsideAngular: boolean; // #75\n  @Input() options: Highcharts.Options;\n  @Input() update: boolean;\n\n  @Output() updateChange = new EventEmitter<boolean>(true);\n  @Output() chartInstance = new EventEmitter<Highcharts.Chart>(); // #26\n\n  private chart: Highcharts.Chart;\n\n  constructor(\n    private el: ElementRef,\n    private _zone: NgZone // #75\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const update = changes.update && changes.update.currentValue;\n    if (changes.options || update) {\n      this.wrappedUpdateOrCreateChart();\n      if (update) {\n        this.updateChange.emit(false); // clear the flag after update\n      }\n    }\n  }\n\n  wrappedUpdateOrCreateChart() { // #75\n    if (this.runOutsideAngular) {\n      this._zone.runOutsideAngular(() => {\n        this.updateOrCreateChart()\n      });\n    } else {\n      this.updateOrCreateChart();\n    }\n  }\n\n  updateOrCreateChart() {\n    if (this.chart && this.chart.update) {\n      this.chart.update(this.options, true, this.oneToOne || false);\n    } else {\n      this.chart = (this.Highcharts as any)[this.constructorType || 'chart'](\n        this.el.nativeElement,\n        this.options,\n        this.callbackFunction || null\n      );\n\n      // emit chart instance on init\n      this.chartInstance.emit(this.chart);\n    }\n  }\n\n  ngOnDestroy() { // #44\n    if (this.chart) {  // #56\n      this.chart.destroy();\n      this.chart = null;\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {HighchartsChartComponent} from './highcharts-chart.component';\n\n@NgModule({\n  declarations: [ HighchartsChartComponent ],\n  exports: [ HighchartsChartComponent ]\n})\nexport class HighchartsChartModule {}\n"]}